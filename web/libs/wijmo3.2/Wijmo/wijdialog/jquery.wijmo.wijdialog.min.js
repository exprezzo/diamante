var __extends=this.__extends||function(e,t){function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n},wijmo;(function(e){(function(t){"use strict";var n=jQuery,r="wijdialog",i="ui-state-hover",s="wijmo-wijdialog-defaultdockingzone",o=function(e){function t(){e.apply(this,arguments)}return __extends(t,e),t.prototype._create=function(){return n.ui.dialog.prototype._create.apply(this,arguments)},t.prototype._init=function(){return n.ui.dialog.prototype._init.apply(this,arguments)},t.prototype._destroy=function(){return n.ui.dialog.prototype._destroy.apply(this,arguments)},t.prototype._appendTo=function(){return n.ui.dialog.prototype._appendTo.apply(this,arguments)},t.prototype._setOptions=function(){return n.ui.dialog.prototype._setOptions.apply(this,arguments)},t.prototype._setOption=function(e,t){return n.ui.dialog.prototype._setOption.apply(this,arguments)},t.prototype.widget=function(){return n.ui.dialog.prototype.widget.apply(this,arguments)},t.prototype.close=function(){return n.ui.dialog.prototype.close.apply(this,arguments)},t.prototype.isOpen=function(){return n.ui.dialog.prototype.isOpen.apply(this,arguments)},t.prototype.moveToTop=function(){return n.ui.dialog.prototype.moveToTop.apply(this,arguments)},t.prototype._moveToTop=function(){return n.ui.dialog.prototype._moveToTop.apply(this,arguments)},t.prototype.open=function(){return n.ui.dialog.prototype.open.apply(this,arguments)},t.prototype._focusTabbable=function(){return n.ui.dialog.prototype._focusTabbable.apply(this,arguments)},t.prototype._keepFocus=function(){return n.ui.dialog.prototype._keepFocus.apply(this,arguments)},t.prototype._createWrapper=function(){return n.ui.dialog.prototype._createWrapper.apply(this,arguments)},t.prototype._createTitlebar=function(){return n.ui.dialog.prototype._createTitlebar.apply(this,arguments)},t.prototype._title=function(){return n.ui.dialog.prototype._title.apply(this,arguments)},t.prototype._createButtonPane=function(){return n.ui.dialog.prototype._createButtonPane.apply(this,arguments)},t.prototype._createButtons=function(){return n.ui.dialog.prototype._createButtons.apply(this,arguments)},t.prototype._makeDraggable=function(){return n.ui.dialog.prototype._makeDraggable.apply(this,arguments)},t.prototype._makeResizable=function(){return n.ui.dialog.prototype._makeResizable.apply(this,arguments)},t.prototype._minHeight=function(){return n.ui.dialog.prototype._minHeight.apply(this,arguments)},t.prototype._position=function(){return n.ui.dialog.prototype._position.apply(this,arguments)},t.prototype._size=function(){return n.ui.dialog.prototype._size.apply(this,arguments)},t.prototype._blockFrames=function(){return n.ui.dialog.prototype._blockFrames.apply(this,arguments)},t.prototype._unblockFrames=function(){return n.ui.dialog.prototype._unblockFrames.apply(this,arguments)},t.prototype._createOverlay=function(){if(!this.options.modal)return;var e=this;n.ui.dialog.overlayInstances||this._delay(function(){n.ui.dialog.overlayInstances&&this.document.bind("focusin.dialog",function(e){if(!n(e.target).closest(".ui-dialog").length&&!n(e.target).closest(".ui-datepicker").length){e.preventDefault();var t=n(".ui-dialog:visible:last .ui-dialog-content"),r;t.data("wijmoWijdialog")?r=t.data("wijmoWijdialog"):r=t.data("wijmoC1dialog"),r&&r._focusTabbable()}})}),this.overlay=n("<div>").addClass("ui-widget-overlay ui-front ui-dialog-overlay").appendTo(this._appendTo()),this._on(this.overlay,{mousedown:"_keepFocus"}),n.ui.dialog.overlayInstances++},t.prototype._destroyOverlay=function(){return n.ui.dialog.prototype._destroyOverlay.apply(this,arguments)},t}(e.JQueryUIWidget);t.JQueryUIDialog=o;var u=function(){function e(){this.appendTo="body",this.autoOpen=!0,this.buttons=[],this.closeOnEscape=!0,this.closeText="close",this.dialogClass="",this.draggable=!0,this.height="auto",this.hide=null,this.maxHeight=null,this.maxWidth=null,this.minHeight=150,this.minWidth=150,this.modal=!1,this.position={my:"center",at:"center",of:window},this.resizable=!0,this.show=null,this.title=null,this.width=300,this.beforeClose=null,this.close=null,this.create=null,this.drag=null,this.dragStart=null,this.dragStop=null,this.focus=null,this.open=null,this.resize=null,this.resizeStart=null,this.resizeStop=null,this.zIndex=1e3,this.initSelector="",this.captionButtons={},this.collapsingAnimation=null,this.expandingAnimation=null,this.contentUrl="",this.minimizeZoneElementId="",this.buttonCreating=null,this.stateChanged=null,this.blur=null}return e}(),a=function(e){function t(){e.apply(this,arguments)}return __extends(t,e),t.prototype._create=function(){var e=this,t=e.options;n.ui.dialog.maxZ=n.ui.dialog.maxZ||100,n.isArray(t.buttons)&&n.each(t.buttons,function(e,t){var n=t.click;n&&typeof n=="string"&&window[n]&&(t.click=window[n])}),e.form=e.element.closest("form[id]"),n.ui.dialog.prototype._create.apply(e,arguments),e.uiDialog.addClass("wijmo-wijdialog"),e._initWijWindow(),e._bindWindowResize(),e._attachDraggableResizableEvent(),e._originalPosition=t.position,e.uiDialog.css({zIndex:t.zIndex}),e.isPin=!1,e.form.length&&e.uiDialog.appendTo(e.form)},t.prototype._makeDraggable=function(){n.ui.dialog.prototype._makeDraggable.apply(this,arguments),this.uiDialog.draggable("option","cancel",".wijmo-wijdialog-captionbutton")},t.prototype._handleDisabledOption=function(e,t){var r=this;e?(r.disabledDiv||(r.disabledDiv=r._createDisabledDiv()),r.disabledDiv.appendTo("body"),n.browser.msie&&r.uiDialog.draggable("disable")):r.disabledDiv&&(r.disabledDiv.remove(),r.disabledDiv=null,n.browser.msie&&r.uiDialog.draggable("enable"))},t.prototype._createDisabledDiv=function(){var e=this,t,r=e.uiDialog,i=r.offset(),s=r.outerWidth(),o=r.outerHeight();return t=n("<div></div>").addClass("ui-disabled").css({"z-index":"99999",position:"absolute",width:s,height:o,left:i.left,top:i.top}),n.browser.msie&&(t.css("background-color","white"),n.browser.version==="9.0"&&t.css("opacity","0.1")),t},t.prototype.destroy=function(){var e=this;e.disabledDiv&&(e.disabledDiv.remove(),e.disabledDiv=null),n.ui.dialog.prototype._destroy.apply(e,arguments),e.element.unbind(".wijdialog").removeData("wijdialog")},t.prototype._attachDraggableResizableEvent=function(){var e=this,t=e.uiDialog,n=e.options;n.draggable&&t.draggable&&t.bind("dragstop",function(t,n){e._saveNormalState(),e._destoryIframeMask()}).bind("dragstart",function(t,n){e._createIframeMask()}),n.resizable&&t.resizable&&t.bind("resizestop",function(t,n){e._saveNormalState(),e._destoryIframeMask()}).bind("resizestart",function(t,n){e._createIframeMask()})},t.prototype._createIframeMask=function(){var e=this;e.innerFrame&&(e.mask=n("<div style='width:100%;height:100%;position:absolute;top:0px;left:0px;z-index:"+(n.ui.dialog.maxZ+1)+"'></div>").appendTo(e.uiDialog))},t.prototype._destoryIframeMask=function(){var e=this;e.innerFrame&&e.mask&&(e.mask.remove(),e.mask=undefined)},t.prototype._initWijWindow=function(){var e=this,t=!0;e._createCaptionButtons(),e._checkUrl(),e.uiDialog.bind("mousedown",function(t){var r=t.target;n.contains(e.element[0],r)||e.uiDialog.focus()}).bind("mouseenter",function(e){t=!0}).bind("mouseleave",function(e){t=!1}).bind("focusout",function(n){t||e._trigger("blur",n,{el:e.element})})},t.prototype._moveToTop=function(e,t){var r=this,i=r.options,s;return i.modal&&!t||!i.stack&&!i.modal?r._trigger("focus",e):(i.zIndex>n.ui.dialog.maxZ&&(n.ui.dialog.maxZ=i.zIndex),r.overlay&&(n.ui.dialog.maxZ+=1,r.overlay.css("z-index",n.ui.dialog.maxZ)),s={scrollTop:r.element.scrollTop(),scrollLeft:r.element.scrollLeft()},n.ui.dialog.maxZ+=1,r.uiDialog.css("z-index",n.ui.dialog.maxZ),r.element.attr(s),r._trigger("focus",e),r)},t.prototype._checkUrl=function(){var e=this,t=e.options,r=t.contentUrl,i=n('<iframe style="width:100%;height:99%;" frameborder="0"></iframe>');typeof r=="string"&&r.length>0&&(e.element.addClass("wijmo-wijdialog-hasframe"),e.element.append(i),e.innerFrame=i),e.contentWrapper=e.element},t.prototype._setOption=function(e,t){var r=this;n.ui.dialog.prototype._setOption.apply(r,arguments),e==="disabled"?r._handleDisabledOption(t,r.element):e==="contentUrl"?r.innerFrame?r.innerFrame.attr("src",t):r._checkUrl():(e="captionButtons")&&r._createCaptionButtons()},t.prototype._createCaptionButtons=function(){var e=[],t=this,r=t.options,i,s={pin:{visible:!0,click:t.pin,iconClassOn:"ui-icon-pin-w",iconClassOff:"ui-icon-pin-s"},refresh:{visible:!0,click:t.refresh,iconClassOn:"ui-icon-refresh"},toggle:{visible:!0,click:t.toggle,iconClassOn:"ui-icon-carat-1-n",iconClassOff:"ui-icon-carat-1-s"},minimize:{visible:!0,click:t.minimize,iconClassOn:"ui-icon-minus"},maximize:{visible:!0,click:t.maximize,iconClassOn:"ui-icon-extlink"},close:{visible:!0,text:r.closeText,click:t.close,iconClassOn:"ui-icon-close"}},o=r.captionButtons,u=t.uiDialogTitlebar;u.children(".ui-dialog-titlebar-close, .wijmo-wijdialog-captionbutton").remove(),n.each(s,function(t,r){o&&o[t]&&n.extend(r,o[t]),e.push({button:t,info:r})}),t._trigger("buttonCreating",null,e);for(i=0;i<e.length;i++)t._createCaptionButton(e[i],u)},t.prototype._createCaptionButton=function(e,t,r){var s=this,o,u="wijmo-wijdialog-titlebar-"+e.button,a=t.children("."+u),f=e.info,l=n("<span></span>");if(f.visible){if(a.size()===0){l.addClass("ui-icon "+f.iconClassOn).text(f.text||e.button),o=n('<a href="#"></a>').append(l).addClass(u+" ui-corner-all wijmo-wijdialog-captionbutton").attr("role","button").hover(function(){o.addClass(i)},function(){o.removeClass(i)}).click(function(e){return l.hasClass(f.iconClassOff)?l.removeClass(f.iconClassOff):l.addClass(f.iconClassOff),n.isFunction(f.click)&&f.click.apply(s,arguments),!1});if(r)return o;o.appendTo(t)}s[e.button+"Button"]=o}else a.remove()},t.prototype.pin=function(){var e=this.isPin,t=this.pinButton.children("span");e?t.removeClass("ui-icon-pin-s"):t.length&&(t.hasClass("ui-icon-pin-s")||t.addClass("ui-icon-pin-s")),this._enableDisableDragger(!e),this.isPin=!e},t.prototype.refresh=function(){var e=this.innerFrame;e!==undefined&&e.attr("src",e.attr("src"))},t.prototype.toggle=function(){var e=this,t=e.toggleButton.children("span");e.minimized||(e.collapsed===undefined||!e.collapsed?(e.collapsed=!0,t.hasClass("ui-icon-carat-1-s")||t.addClass("ui-icon-carat-1-s"),e._collapseDialogContent(!0)):(e.collapsed=!1,t.hasClass("ui-icon-carat-1-s")&&t.removeClass("ui-icon-carat-1-s"),e._expandDialogContent(!0)))},t.prototype._expandDialogContent=function(e){var t=this,r=t.options,i=r.expandingAnimation;t.uiDialog.height("auto"),e&&i!==null?t.contentWrapper.show(i.animated,i.options,i.duration,function(e){t.uiDialog.css("height",t._toggleHeight),n.isFunction(i.callback)&&i.callback(e),r.resizable&&t._enableDisableResizer(!1)}):(t.contentWrapper.show(),r.resizable&&t._enableDisableResizer(!1),t.uiDialog.css("height",t.toggleHeight))},t.prototype._collapseDialogContent=function(e){var t=this,n=t.options,r=n.collapsingAnimation;n.resizable&&t._enableDisableResizer(!0),t._toggleHeight=t.uiDialog[0].style.height,t.uiDialog.height("auto"),e&&r!==null?t.contentWrapper.hide(r.animated,r.options,r.duration):t.contentWrapper.hide(),t._enableDisableDragger(t.isPin)},t.prototype._enableDisableResizer=function(e){var t=this.uiDialog;if(!this.options.resizable)return;t.resizable({disabled:e}),e&&t.removeClass("ui-state-disabled")},t.prototype._enableDisableDragger=function(e){var t=this.uiDialog;if(!this.options.draggable)return;t.draggable({disabled:e}),e&&t.removeClass("ui-state-disabled")},t.prototype.minimize=function(){var e=this,t=e.uiDialog,r=e.options,i=null,o=n("<div></div>"),u=n("<div></div>"),a,f,l,c,h={width:undefined,height:undefined},p,d={width:undefined,height:undefined},v="uiDialog",m;e.minimized||(c=e.uiDialog.position(),h.width=e.uiDialog.width(),h.height=e.uiDialog.height(),m=e.getState(),e.maximized?(e.maximized=!1,e.restoreButton.remove(),n(window).unbind(".onWinResize")):(e.collapsed&&e._expandDialogContent(!1),e._saveNormalState()),e._enableDisableResizer(!0),e.collapsed&&e._collapseDialogContent(!1),o.appendTo(document.body).css({top:e.uiDialog.offset().top,left:e.uiDialog.offset().left,height:e.uiDialog.innerHeight(),width:e.uiDialog.innerWidth(),position:"absolute"}),e.contentWrapper.hide(),e.uiDialogButtonPane.length&&e.uiDialogButtonPane.hide(),t.height("auto"),t.width("auto"),e._doButtonAction(e.minimizeButton,"hide"),e._restoreButton(!0,e.minimizeButton,"After"),e._doButtonAction(e.pinButton,"hide"),e._doButtonAction(e.refreshButton,"hide"),e._doButtonAction(e.toggleButton,"hide"),e._doButtonAction(e.maximizeButton,"show"),n.browser.webkit&&n(".wijmo-wijdialog-captionbutton",e.uiDialog).css("float","left"),e.innerFrame&&(v="copy",e[v]=e.uiDialog.clone(),e[v].empty(),e.uiDialogTitlebar.appendTo(e[v])),r.minimizeZoneElementId.length>0&&(i=n("#"+r.minimizeZoneElementId)),i!==null&&i.size()>0?i.append(e[v]):(a=n("."+s),a.size()===0&&(a=n('<div class="'+s+'"></div>'),n(document.body).append(a)),a.append(e[v]).css("z-index",t.css("z-index"))),e[v].css("position","static"),e[v].css("float","left"),n.browser.msie&&n.browser.version==="6.0"&&(f=n(document).scrollTop(),l=document.documentElement.clientHeight-a.height()+f,a.css({position:"absolute",left:"0px",top:l})),u.appendTo(document.body).css({top:e[v].offset().top,left:e[v].offset().left,height:e[v].innerHeight(),width:e[v].innerWidth(),position:"absolute"}),e.uiDialog.hide(),e.innerFrame&&e[v].hide(),o.effect("transfer",{to:u,className:"ui-widget-content"},100,function(){o.remove(),u.remove(),e[v].show(),e.minimized=!0,p=e.uiDialog.position(),d.width=e.uiDialog.width(),d.height=e.uiDialog.height(),e._enableDisableDragger(!0),e._trigger("resize",null,{originalPosition:c,originalSize:h,position:p,size:d}),e._trigger("stateChanged",null,{originalState:m,state:"minimized"})}))},t.prototype._doButtonAction=function(e,t){e!==undefined&&(e.removeClass(i),e[t]())},t.prototype.maximize=function(){var e=this,t=n(window),r,i={width:undefined,height:undefined},s,o={width:undefined,height:undefined},u;e.maximized||(e._enableDisableDragger(!1),r=e.uiDialog.position(),i.width=e.uiDialog.width(),i.height=e.uiDialog.height(),e.minimized?e.restore():(e.collapsed&&e._expandDialogContent(!1),e._saveNormalState(),u="normal"),e.maximized=!0,e.maximizeButton!==undefined&&(e.maximizeButton.hide(),e._restoreButton(!0,e.maximizeButton,"Before")),n.browser.webkit&&n(".wijmo-wijdialog-captionbutton").css("float",""),e._onWinResize(e,t),e.collapsed&&e._collapseDialogContent(!1),e.collapsed||e._enableDisableDragger(!0),e._enableDisableResizer(!0),s=e.uiDialog.position(),o.width=e.uiDialog.width(),o.height=e.uiDialog.height(),e._trigger("resize",null,{originalPosition:r,originalSize:i,position:s,size:o}),u==="normal"&&e._trigger("stateChanged",null,{originalState:"normal",state:"maximized"}))},t.prototype._bindWindowResize=function(){var e=this,t=n(window),r,i,s;t.resize(function(){e.maximized&&e._onWinResize(e,t)}),n.browser.msie&&n.browser.version==="6.0"&&t.bind("scroll.wijdialog resize.wijdialog",function(){e.minimized&&(i=n(document).scrollTop(),s=e.uiDialog.parent(),r=document.documentElement.clientHeight-s.height()+i,s.css({top:r}))})},t.prototype._saveNormalState=function(){var e=this,t=e.uiDialog,n=e.element;e.maximized||(e.normalWidth=t.css("width"),e.normalLeft=t.css("left"),e.normalTop=t.css("top"),e.normalHeight=t.css("height"),e.normalInnerHeight=n.css("height"),e.normalInnerWidth=n.css("width"),e.normalInnerMinWidth=n.css("min-width"),e.normalInnerMinHeight=n.css("min-height"))},t.prototype._onWinResize=function(e,t){e.uiDialog.css("top",t.scrollTop()),e.uiDialog.css("left",t.scrollLeft()),e.uiDialog.setOutWidth(t.width()),e.uiDialog.setOutHeight(t.height()),e.options.width=e.uiDialog.width(),e.options.height=e.uiDialog.height(),e._size(),e.collapsed&&(e.uiDialog.height("auto"),e.contentWrapper.hide())},t.prototype._restoreButton=function(e,t,n){var r=this,i={button:"restore",info:{visible:e,click:r.restore,iconClassOn:"ui-icon-newwin"}},s=r._createCaptionButton(i,r.uiDialogTitlebar,!0);e&&(s["insert"+n](t),r.restoreButton=s)},t.prototype._appendToBody=function(e){this.innerFrame?(this.uiDialogTitlebar.prependTo(e),e.show()):e.appendTo(document.body)},t.prototype.restore=function(){var e=this,t=e.uiDialog,r,i={width:undefined,height:undefined},s,o={width:undefined,height:undefined},u=n("<div></div>"),a=n("<div></div>"),f="uiDialog",l;e.minimized?(e.minimized=!1,e.innerFrame&&(f="copy",e[f]||(f="uiDialog")),r=e[f].position(),i.width=e[f].width(),i.height=e[f].height(),u.appendTo(document.body).css({top:e[f].offset().top,left:e[f].offset().left,height:e[f].innerHeight(),width:e[f].innerWidth(),position:"absolute"}),t.css("position","absolute"),t.css("float",""),e._appendToBody(t),e._enableDisableResizer(!1),e.isPin||e._enableDisableDragger(!1),e._restoreToNormal(),e.contentWrapper.show(),e.uiDialogButtonPane.length&&e.uiDialogButtonPane.show(),a.appendTo(document.body).css({top:e.uiDialog.offset().top,left:e.uiDialog.offset().left,height:e.uiDialog.innerHeight(),width:e.uiDialog.innerWidth(),position:"absolute"}),e.uiDialog.hide(),u.effect("transfer",{to:a,className:"ui-widget-content"},150,function(){e.uiDialog.show(),s=e.uiDialog.position(),o.width=e.uiDialog.width(),o.height=e.uiDialog.height(),u.remove(),a.remove(),e.copy&&e.copy.remove(),e._trigger("resize",null,{originalPosition:r,originalSize:i,position:s,size:o}),l=e.getState(),e._trigger("stateChanged",null,{originalState:"minimized",state:l})}),e.collapsed&&e._collapseDialogContent(),e._doButtonAction(e.minimizeButton,"show"),e._doButtonAction(e.restoreButton,"remove"),e._doButtonAction(e.pinButton,"show"),e._doButtonAction(e.refreshButton,"show"),e._doButtonAction(e.toggleButton,"show"),n.browser.webkit&&n(".wijmo-wijdialog-captionbutton").css("float","")):e.maximized&&(e.maximized=!1,r=e.uiDialog.position(),i.width=e.uiDialog.width(),i.height=e.uiDialog.height(),n(window).unbind(".onWinResize"),e.collapsed&&e._expandDialogContent(),e._enableDisableResizer(!1),e.isPin||e._enableDisableDragger(!1),e._restoreToNormal(),e.contentWrapper.show(),e.collapsed&&e._collapseDialogContent(),e.maximizeButton!==undefined&&(e.maximizeButton.show(),e._restoreButton(!1,e.maximizeButton,"before")),s=e.uiDialog.position(),o.width=e.uiDialog.width(),o.height=e.uiDialog.height(),e._trigger("resize",null,{originalPosition:r,originalSize:i,position:s,size:o}),l=e.getState(),e._trigger("stateChanged",null,{originalState:"maximized",state:l}))},t.prototype.getState=function(){var e=this;return e.minimized?"minimized":e.maximized?"maximized":"normal"},t.prototype.reset=function(){var e=this;e.normalWidth=e.normalLeft=e.normalTop=e.normalHeight=e.normalInnerHeight=e.normalInnerWidth=e.normalInnerMinWidth=e.normalInnerMinHeight=undefined,e._setOption("position",e._originalPosition)},t.prototype.open=function(){var e=this,t=e.options;(t.hide==="drop"||t.hide==="bounce")&&n.browser.msie&&e.uiDialog.css("filter","auto"),e.innerFrame?(e.innerFrame.attr("src",t.contentUrl),e.minimized?(e.uiDialogTitlebar.show(),e._isOpen=!0):n.ui.dialog.prototype.open.apply(e,arguments)):(e.minimized?(e.uiDialog.show(),e._isOpen=!0):n.ui.dialog.prototype.open.apply(e,arguments),e.uiDialog.wijTriggerVisibility()),e.collapsed&&e._collapseDialogContent(),t.disabled&&(e.disabledDiv?e.disabledDiv.show():e.disable())},t.prototype.close=function(){var e=this,t=e.options;n.ui.dialog.prototype.close.apply(e,arguments)&&(e.innerFrame&&(e.innerFrame.attr("src",""),e.minimized&&e.uiDialogTitlebar.hide()),e.disabledDiv&&t.disabled&&e.disabledDiv.hide())},t.prototype._restoreToNormal=function(){var e=this,t=e.uiDialog,n=e.element;t.css("width",e.normalWidth),t.css("left",e.normalLeft),t.css("top",e.normalTop),t.css("height",e.normalHeight),n.css("height",e.normalInnerHeight),n.css("width",e.normalInnerWidth),n.css("min-width",e.normalInnerMinWidth),n.css("min-height",e.normalInnerMinHeight),e.options.width=e.uiDialog.width(),e.options.height=e.uiDialog.height()},t}(o);t.wijdialog=a,n.ui&&n.ui.dialog&&(n.extend(n.ui.dialog.overlay,{create:function(e){this.instances.length===0&&(setTimeout(function(){n.ui.dialog.overlay.instances.length&&n(document).bind(n.ui.dialog.overlay.events,function(t){if(n(t.target).zIndex()<n.ui.dialog.overlay.maxZ&&!n.contains(e.element[0],t.target))return!1})},1),n(document).bind("keydown.dialog-overlay",function(t){e.options.closeOnEscape&&!t.isDefaultPrevented()&&t.keyCode&&t.keyCode===n.ui.keyCode.ESCAPE&&(e.close(t),t.preventDefault())}),n(window).bind("resize.dialog-overlay",n.ui.dialog.overlay.resize));var t=(this.oldInstances.pop()||n("<div></div>").addClass("ui-widget-overlay")).appendTo(document.body).css({width:this.width(),height:this.height()});return n.fn.bgiframe&&t.bgiframe(),this.instances.push(t),t},height:function(){var e,t;return n.browser.msie?(e=Math.max(document.documentElement.scrollHeight,document.body.scrollHeight),t=Math.max(document.documentElement.offsetHeight,document.body.offsetHeight),e<t?n(window).height()+"px":e+"px"):n(document).height()+"px"},width:function(){var e,t;return n.browser.msie?(e=Math.max(document.documentElement.scrollWidth,document.body.scrollWidth),t=Math.max(document.documentElement.offsetWidth,document.body.offsetWidth),e<t?n(window).width()+"px":e+"px"):n(document).width()+"px"}}),a.prototype.options=n.extend(!0,{},n.ui.dialog.prototype.options,new u),a.prototype.disable=function(){return this._setOption("disabled",!0)},a.prototype.enable=function(){return this._setOption("disabled",!1)},n.wijmo.registerWidget(r,n.ui.dialog,a.prototype))})(e.dialog||(e.dialog={}));var t=e.dialog})(wijmo||(wijmo={}));