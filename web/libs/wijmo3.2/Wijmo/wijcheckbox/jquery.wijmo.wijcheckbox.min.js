var __extends=this.__extends||function(e,t){function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n},wijmo;(function(e){(function(t){"use strict";var n=jQuery,r="wijcheckbox",i=0,s=function(e){function t(){e.apply(this,arguments),this._csspre="wijcheckbox"}return __extends(t,e),t.prototype._init=function(){var e=this,t=e.element,r=e.options,s,o,u,a,f;t.is(":checkbox")&&(t.attr("id")||(t.attr("id",e._csspre+i),i+=1),t.parent().is("label")?(s=t.parent().wrap(n("<div></div>").addClass(r.wijCSS.wijcheckboxInputwrapper)).parent().wrap("<div></div>").parent().addClass(r.wijCSS.wijcheckbox).addClass(r.wijCSS.widget),o=t.parent(),o.attr("for",t.attr("id")),s.find("."+r.wijCSS.wijcheckboxInputwrapper).append(t),s.append(o)):s=t.wrap(n("<div></div>").addClass(r.wijCSS.wijcheckboxInputwrapper)).parent().wrap("<div></div>").parent().addClass(r.wijCSS.wijcheckbox).addClass(r.wijCSS.widget),u=n("label[for='"+t.attr("id")+"']"),u.length>0&&(s.append(u),u.attr("labelsign","C1")),t.is(":disabled")&&e._setOption("disabled",!0),a=n("<div></div>").addClass(r.wijCSS.wijcheckboxBox).addClass(r.wijCSS.widget).addClass(r.disabled?r.wijCSS.stateDisabled:r.wijCSS.stateDefault).addClass(r.wijCSS.cornerAll).append(n("<span></span>").addClass(r.wijCSS.wijcheckboxIcon)),f=a.children("."+r.wijCSS.wijcheckboxIcon),s.append(a),t.data("iconElement",f),t.data("boxElement",a),t.data("checkboxElement",s),a.removeClass(r.wijCSS.wijcheckboxRelative).attr("role","checkbox").bind("mouseover",function(){t.mouseover(null)}).bind("mouseout",function(){t.mouseout(null)}),(u.length===0||u.html()==="")&&a.addClass(r.wijCSS.wijcheckboxRelative),t.bind("click.checkbox",function(t){if(r.disabled)return;e.refresh(t),e._trigger("changed",null,{checked:e.options.checked})}).bind("focus.checkbox",function(){if(r.disabled)return;a.removeClass(r.wijCSS.stateDefault).addClass(r.wijCSS.stateFocus)}).bind("blur.checkbox",function(){if(r.disabled)return;a.removeClass(r.wijCSS.stateFocus).not("."+r.wijCSS.stateHover).addClass(r.wijCSS.stateDefault)}).bind("keydown.checkbox",function(t){if(t.keyCode===32){if(r.disabled)return;e.refresh(null)}}),a.bind("click.checkbox",function(n){if(r.disabled)return;t.get(0).checked=!t.get(0).checked,t.change(),t.focus(),e.refresh(n),e._trigger("changed",null,{checked:e.options.checked})}),e._initCheckState(),e.refresh(null),s.bind("mouseover.checkbox",function(e){if(r.disabled)return;a.removeClass(r.wijCSS.stateDefault).addClass(r.wijCSS.stateHover)}).bind("mouseout.checkbox",function(e){if(r.disabled)return;a.removeClass(r.wijCSS.stateHover).not("."+r.wijCSS.stateFocus).addClass(r.wijCSS.stateDefault)}),s.attr("title",t.attr("title")))},t.prototype._create=function(){window.wijmoApplyWijTouchUtilEvents&&(n=window.wijmoApplyWijTouchUtilEvents(n))},t.prototype._setOption=function(t,n){var r=this,i=r.options.checked;e.prototype._setOption.call(this,t,n),t==="checked"&&(r.element.get(0).checked=n,r.refresh(null),i!==n&&r._trigger("changed",null,{checked:n}))},t.prototype._initCheckState=function(){var e=this,t=e.options;t.checked!==undefined&&t.checked!==null&&(e.element.get(0).checked=t.checked)},t.prototype.refresh=function(e){var t=this,n=t.options;n.checked=t.element.get(0).checked,t.element.data("iconElement").toggleClass(n.wijCSS.icon+" "+n.wijCSS.iconCheck,t.element.get(0).checked),t.element.data("boxElement").toggleClass(n.wijCSS.stateActive,t.element.get(0).checked).attr("aria-checked",t.element.get(0).checked),t.element.data("checkboxElement").toggleClass(n.wijCSS.stateChecked,t.element.get(0).checked),e&&e.stopPropagation()},t.prototype.destroy=function(){var t=this,n=t.element.parent().parent();n.children("div."+t.options.wijCSS.wijcheckboxBox).remove(),t.element.unwrap(),t.element.unwrap(),e.prototype.destroy.call(this)},t}(e.wijmoWidget);t.wijcheckbox=s;var o=function(){function e(){this.initSelector=":jqmData(role='wijcheckbox')",this.wijCSS={wijcheckbox:"wijmo-checkbox",wijcheckboxBox:"wijmo-checkbox-box",wijcheckboxIcon:"wijmo-checkbox-icon",wijcheckboxInputwrapper:"wijmo-checkbox-inputwrapper",wijcheckboxRelative:"wijmo-checkbox-relative"},this.wijMobileCSS={header:"ui-header ui-bar-a",content:"ui-body-c",stateDefault:"ui-btn-up-c",stateHover:"ui-btn-down-c",stateActive:"ui-btn-down-b"},this.checked=null,this.changed=null}return e}();s.prototype.options=n.extend(!0,{},e.wijmoWidget.prototype.options,new o),n.wijmo.registerWidget(r,s.prototype)})(e.checkbox||(e.checkbox={}));var t=e.checkbox})(wijmo||(wijmo={}));